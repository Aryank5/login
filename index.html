<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>7 Day Timer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family: Arial, sans-serif;
  background:#111;
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  margin:0;
  padding:20px;
}
.timer{
  font-size:22px;
  text-align:center;
  padding:30px;
  background:rgba(0,0,0,0.5);
  border-radius:10px;
  border:1px solid #333;
  min-width:300px;
}
.countdown{
  font-size:28px;
  font-weight:bold;
  color:#4CAF50;
  margin:15px 0;
  padding:15px;
  background:rgba(0,0,0,0.3);
  border-radius:5px;
  letter-spacing:1px;
}
.url-display{
  font-size:14px;
  color:#aaa;
  margin-top:20px;
  padding:10px;
  background:rgba(0,0,0,0.2);
  border-radius:5px;
  word-break:break-all;
}
.redirecting{
  color:#ff9800;
  animation: pulse 1.5s infinite;
}
@keyframes pulse {
  0% { opacity: 0.6; }
  50% { opacity: 1; }
  100% { opacity: 0.6; }
}
</style>
</head>

<body>

<div class="timer">
  <div>Website will open in:</div>
  <div class="countdown" id="timer">Loading...</div>
  <div class="url-display">
    Ali s: in999xx.com<br>
    <small>Timer started: <span id="startTime">Just now</span></small>
  </div>
</div>

<script>
const TARGET_URL = "https://www.in999xx.com/#/register?invitationCode=414726355802";
const DAYS_7 = 7 * 24 * 60 * 60 * 1000;

let startTime = localStorage.getItem("timerStart");

if (!startTime) {
  startTime = Date.now();
  localStorage.setItem("timerStart", startTime);
  updateStartTimeDisplay();
} else {
  updateStartTimeDisplay();
}

function updateStartTimeDisplay() {
  const startDate = new Date(parseInt(startTime));
  const now = new Date();
  const diffMs = now - startDate;
  const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));
  
  let displayText = "";
  
  if (diffDays === 0) {
    displayText = `Today at ${startDate.getHours().toString().padStart(2, '0')}:${startDate.getMinutes().toString().padStart(2, '0')}`;
  } else if (diffDays === 1) {
    displayText = `Yesterday at ${startDate.getHours().toString().padStart(2, '0')}:${startDate.getMinutes().toString().padStart(2, '0')}`;
  } else if (diffDays < 7) {
    const daysOfWeek = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
    displayText = `${daysOfWeek[startDate.getDay()]} at ${startDate.getHours().toString().padStart(2, '0')}:${startDate.getMinutes().toString().padStart(2, '0')}`;
  } else {
    displayText = `${startDate.toLocaleDateString()} at ${startDate.getHours().toString().padStart(2, '0')}:${startDate.getMinutes().toString().padStart(2, '0')}`;
  }
  
  document.getElementById('startTime').textContent = displayText;
}

function updateTimer() {
  const now = Date.now();
  const elapsed = now - parseInt(startTime);
  const remaining = DAYS_7 - elapsed;

  if (remaining <= 0) {
    document.getElementById('timer').innerHTML = 'Redirecting...';
    document.getElementById('timer').className = 'countdown redirecting';
    
    // Countdown before redirect
    let countdown = 5;
    const countdownInterval = setInterval(() => {
      document.getElementById('timer').innerHTML = `Redirecting in ${countdown}...`;
      countdown--;
      
      if (countdown < 0) {
        clearInterval(countdownInterval);
        localStorage.removeItem("timerStart");
        window.location.href = TARGET_URL;
      }
    }, 1000);
    
    return;
  }

  const days = Math.floor(remaining / (1000 * 60 * 60 * 24));
  const hours = Math.floor((remaining / (1000 * 60 * 60)) % 24);
  const minutes = Math.floor((remaining / (1000 * 60)) % 60);
  const seconds = Math.floor((remaining / 1000) % 60);

  document.getElementById('timer').innerHTML = 
    `${days}d ${hours.toString().padStart(2, '0')}h ${minutes.toString().padStart(2, '0')}m ${seconds.toString().padStart(2, '0')}s`;
  document.getElementById('timer').className = 'countdown';
}

setInterval(updateTimer, 1000);
updateTimer();

// Add a reset function (optional, for testing)
function resetTimer() {
  if (confirm("Reset timer to 7 days?")) {
    startTime = Date.now();
    localStorage.setItem("timerStart", startTime);
    updateStartTimeDisplay();
    updateTimer();
  }
}

// Add to right-click menu for testing
document.addEventListener('contextmenu', function(e) {
  e.preventDefault();
  if (confirm("Right-click detected. Do you want to reset the timer?")) {
    resetTimer();
  }
});
</script>

</body>
</html>
